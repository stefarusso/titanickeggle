read.csv(file='data/test.csv')
test = read.csv(file='data/test.csv')
head(test)
head(test[1])
head(test[][1])
head(test[:,1])
head(test)
head(test[1])
head(test[2])
head(test[:])
head(test[])
head(test[][1])
head(test[,1])
head(test[:,1])
head(test[1:-1,1])
head(test[,1])
head(test[1,])
ls()
source(file="titanic.R")
q()
source(file='titanic.R')
ls()
test[1,]
test[1,]
head(train)
print(head(train))
sprint(head(train))
sprintf(head(train))
ls()
data.frame(test)
test = data.frame(test)
head(test)
print(test[1,])
print(test[1:5,])
cat(head(test))
write.csv(test(head))
write.csv(head(train))
?write.csv
write.csv(head(train),sep="|")
write.csv(head(train),sep="'|'")
write.csv(head(train),sep='|')
write.csv(head(train),sep='\')
)
write.csv(head(train),sep="%")
?write.csv()
write.csv(head(train),sep="  ")
write.csv(train,sep="  ")
write.csv(train,sep="a")
write.csv(train,sep=",,")
write.csv(train,sep=",")
write.table(head(train))
write.table(head(test))
write.table(head(test),sep = " | ")
library(ggplot2)
str(test)
str(train)
ggplot(train, aes(x=Pclass))+
geom_bar()
ggplot(train, aes(x=Pclass, color=Survived))+
geom_bar()
ggplot(train, aes(x=Pclass, fill=Survived))+
geom_bar()
ggplot(train)+
geom_bar(mapping=aes(x=Pclass,fill=Survived))
str(train)
train$Survived = as.factor(train$Survived)
train$Pclass = as.factor(train$Pclass)
ggplot(train)+
geom_bar(mapping=aes(x=Pclass,fill=Survived))
q()
source(file='titanic.R')
ls()
str(test)
str(train)
test$Pclass = as.factor(test$Pclass)
str(test)
library(ggplot2)
ggplot(train)+
geom_bar(mapping=aes(x=Pclass,fill=Survived))
str(train)
table(train$Pclass)
table(train["Survived"])
table(train[c("Survived","Pclass")])
tmp = table(train[c("Survived","Pclass")])
tmp
str(tmp)
as.factor(tmp)
tmp = table(train[c("Survived","Pclass")])
str(tmp)
ggplot(train)+
geom_bar(mapping=aes(x=Pclass,fill=Survived))
png("pclass.png")
dev.off()
plot = ggplot(train)+
geom_bar(mapping=aes(x=Pclass,fill=Survived))
png("pclass.png")
print(plot)
dev.off()
ls()
rm(tmp)
str(train)
train[c(2,3),]
train[,c(2,3)]
str(train[,c(2,3)])
tmp=train[,c(2,3)]
tmp
str(tmp)
table(tmp)
rowSums(tmp)
rowSums(tmp$Survived)
rowSums(tmp[1])
rowSums(table(tmp))
table(tmp)[1]
table(tmp)[2]
table(tmp)[3]
table(tmp)[1,]
table(tmp)[2,]
table(tmp)
colSums(tmp)
colSums(table(tmp))
table(tmp)[1]
table(tmp)[2,]
table(tmp)[2,]/(colSums(table(tmp)))
rates = table(tmp)[2,]/(colSums(table(tmp)))
str(rates)
as.numeric(rates)
rates=as.numeric(rates)
ggplot(rates)+
geom_col()
rates = table(tmp)[2,]/(colSums(table(tmp)))
rates
str(rates)
data.frame(rates)
ggplot(rates)
ggplot(data.frame(rates))+
geom_col()
ggplot(data.frame(rates))+
geom_col(mapping = aes())
rates = data.frame(rates)
rates
str(rates)
rates = table(tmp)[2,]/(colSums(table(tmp)))
rates
as.data.frame(rates)
rates=as.data.frame(rates)
ggplot(rates)+
geom_col()
str(rates)
rates
rates = table(tmp)[2,]/(colSums(table(tmp)))
rates
str(rates)
names(rates)
unname(rates)
as.database(rates)
as.data.base(rates)
as.data.frame(rates)
rates2= as.data.frame(rates)
str(rates2)
as.data.frame.matrix(rates)
tmp
str(tmp)
colSums(tmp)
colSums(tmp$Survived)
sum(tmp$Survived)
sum(tmp$Survived==1)
sum(nrow(tmp$Survived))
sum(ncol(tmp$Survived))
sum(n(tmp$Survived))
ncol(tmp)
nrow(tmp)
nrow(tmp$Survived)
sum(n(tmp$Survived=="1"))
sum(tmp$Survived=="1")
sum(tmp$Survived=="1")/ncol(tmp)
str(tmp)
rates
str(rates)
lis(rates)
list(rates)
as.data.frame(list(rates))
rates = as.data.frame(list(rates))
str(rates)
rates = table(tmp)[2,]/(colSums(table(tmp)))
rates
as.list(rates)
as.data.frame(as.list(rates))
colnames(as.data.frame(as.list(rates)))
as.data.frame(as.list(rates))
as.list(rates)
as.list(rates)[1]
as.list(rates)[1,1]
as.list(rates)[1]
str(as.list(rates))
str(as.list(rates)$1)
(as.list(rates)$1
as.list(rates)
rates = as.list(rates)
ggplot(rates)
as.data.frame(rates)
str(as.data.frame(rates))
qplot(rates)
rates
rates = table(tmp)[2,]/(colSums(table(tmp)))
qplot(rates)
rates
rates.T
rates
rates[2]
rates[2,]
str(rates)
data.frame(c(name(rates),unname(rates)))
data.frame(c(names(rates),unname(rates)))
data.frame(names(rates),unname(rates))
data.frame("pclass"=names(rates),unname(rates))
data.frame("pclass" = names(rates),"surv_rates"=unname(rates))
rates = data.frame("pclass" = names(rates),"surv_rates"=unname(rates))
str(rates)
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity")
rates = data.frame("pclass" = names(rates),"survival_rates"=unname(rates))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity")+
scale_fill_identity()
ggplot(rates,aes(x=pclass,y=surv_rates))+
scale_fill_identity()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity")+
scale_fill_brewer(palette='Blues')
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity")+
scale_fill_continuos()
scale_fill_continuous()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity")+
scale_fill_continuous()
ggplot(rates,aes(x=pclass,y=surv_rates,color=1))+
geom_bar(stat="identity")+
scale_fill_continuous()
ggplot(rates,aes(x=pclass,y=surv_rates,color=1))+
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill="blue")+
()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill="blue")
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=1)
RColorBrewer::display.brewer.aal()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=c(1,2,3))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill="Blues")
library(RColorBrewer)
display.brewer.all()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity")+
scale_fill_brewer(palette='Blues')
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal("blues"))
brewer.pal()
brewer.pal(name='Blues')
brewer.pal(3,name='Blues')
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(3,"Blues"))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(4,"Blues"))
geom_bar(stat="identity",fill=brewer.pal(4,"Blues")[2:4])
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(4,"Blues")[2:4])
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(3,"Blues"))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(3,"Dark"))
display.brewer.all()
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(3,"Spectral"))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(3,"Spectral"))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=brewer.pal(3,""))
ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=rev(brewer.pal(3,"Blues")))
png("pclass_surv.png")
dev.off()
plot = ggplot(rates,aes(x=pclass,y=surv_rates))+
geom_bar(stat="identity",fill=rev(brewer.pal(3,"Blues")))
png("pclass_surv.png")
print(plot)
dev.off()
ls()
rm(c(rates,rates2,tmp))
rm(rates)
rm(rates2,tmp)
ls()
rm(plot)
ls()
str(train)
plot = ggplot(train,aes(x=Sex))+
geom_bar()
print(plot)
plot = ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()
print(plot)
plot = ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()
png("sex.png")
print(plot)
dev.off()
ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()+
facet_grid(cols=Pclass)
facet_grid(cols=vars(Pclass))
ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()+
facet_grid(cols=vars(Pclass))
ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()+
facet_grid(cols=vars(Pclass),scales = "free")
ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()+
facet_grid(cols=vars(Pclass),scales = "free")
ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()+
facet_grid(cols=vars(Pclass),scales = "free_y")
plot = ggplot(train,aes(x=Sex, fill=Survived))+
geom_bar()+
facet_grid(cols=vars(Pclass),scales = "free_y")
png("sex_pclass.png")
print(plot)
dev.off()
()
q()
source(file='titanic.R')
ls()
str(train)
table(train$Age)
summary(train$Age)
nrow(train)
891-177
head(train)
head(train)
table(train$Age)
table(train["Survived","Age"])
table(train[c("Survived","Age")])
tmp = table(train[c("Survived","Age")])
tmp
colSums(tmp)
ggplot(train,aes(x=Age,fill=Survived))+
geom_bar()
ggplot(train,aes(x=Age,fill=Survived))+
geom_bar()
ggplot(train,aes(x=Age,fill=Survived))+
geom_bar()
ggplot(train[which(train$Survived==1)],aes(x=Age,fill=Survived))+
geom_bar()
train[which(train$Survived==1)]
which(train$Survived==1)
train[1,]
train[1,2]
train[,2]
train[which(train$Survived==1),]
ggplot(train[which(train$Survived==1),],aes(x=Age))+
geom_bar()
ggplot(train[which(train$Survived==1),],aes(x=Age))+
geom_bar()+
label(title="deaths")
ggplot(train[which(train$Survived==1),],aes(x=Age))+
geom_bar()+
labs(title="deaths")
plot =  ggplot(train[which(train$Survived==1),],aes(x=Age))+
geom_bar()+
labs(title="deaths")
png("age.png")
print(plot)
dev.off()
png("age_surv.png")
plot =  ggplot(train[which(train$Survived==0),],aes(x=Age))+
geom_bar()+
labs(title="deaths")
print(plot)
dev.off()
library(tidy)
library(tidyr)
head(train)
head(train$Name)
separate(head(train$Name))
str(train)
train$Name = as.character(train$Name)
str(train)
separate(head(train$Name))
separate(head(train),col=name)
separate(head(train),col=Name)
separate(head(train),col=Name,into=Title)
train$Title = NA
separate(head(train),col=Name,into=Title)
separate(head(train),col=Name,into=Title)
str(train)
train$Title=NA
str(train)
train$Title=NULL
str(train)
separate(head(train),col=Name,into=train$Title)
library(stringr)
tmp= head(train$Name√π)
tmp= head(train$Name)
tmp
str_split_fixed(tmp,",")
str_split_fixed(tmp,",",2)
str_split_fixed(tmp,",",1)
str_split_fixed(tmp,",",2)
str_split_fixed(tmp,"^,$[.]",2)
str_split_fixed(tmp,"^,",2)
str_split_fixed(tmp,"^\,",2)
str_split_fixed(tmp,  ","  ,2)
str_split_fixed(tmp,  ",$[.]"  ,2)
str_split_fixed(tmp,  ",$\."  ,2)
str_split_fixed(tmp,  ",$ "  ,2)
str_split_fixed(tmp,  ",$ "  ,3)
str_split_fixed(tmp,",",2)
str_split_fixed(str_split_fixed(tmp,",",2)[,2], " " ,2)
(str_split_fixed(tmp,",",2)[,2]
str_split_fixed(tmp,",",2)[,2]
str_split_fixed(str_split_fixed(tmp,",",2)[,2], " ", 2)
str_split_fixed(str_split_fixed(tmp,",",2)[,2], ". ", 2)
str_split_fixed(str_split_fixed(tmp,",",2)[,2], ". ", 2)[,1]
train$Title = str_split_fixed(str_split_fixed(train$Name,",",2)[,2], ". ", 2)[,1]
str(train)
train$Title = as.factor(train$Title)
str(train)
table(train$Title)
train$Name[which(train$Name=="th"),]
train$Name[,which(train$Name=="th")]
train$Name[which(train$Name=="th")]
which(train$Name=="th")
train$Name=="th"
str(train)
levels(train$Title)
levels(train$Title)=="th"
levels(train$Title)==" th"
train$Title==" th"
which(train$Title==" th")
train$Name[which(train$Title==" th")]
train$Title[which(train$Title==" th")]=" the Countess"
train$Title[which(train$Title==" th")]
train$Title[760]
train$Title[760]=" the Countess"
train[760,]
train$Title[760]=" Miss"
levels(train$Titles)
str(train)
levels(train$Title)
table(train$Title)
levels(train$Title)
levels(train$Title)[17]=NULL
droplevels(train$Title)
train$Title=droplevels(train$Title)
levels(train$Title)
table(train$Title)
table(train[,c("Title","Age")])
table(train[which(train$Title==" Miss"),c("Title","Age")])
train[which(train$Title==" Miss"),c("Title","Age")]
table(train[which(train$Title==" Miss"),c("Title","Age")])
ggplot(train[which(train$Title==" Miss"),],aes(x=Age))+
geom_bar()
ggplot(train[which(train$Title==" Mrs"),],aes(x=Age))+
geom_bar()
ggplot(train[which(train$Title==" Rev"),],aes(x=Age))+
geom_bar()
ggplot(train[which(train$Title==" Mr"),],aes(x=Age))+
geom_bar()
ggplot(train[which(train$Title==" Master"),],aes(x=Age))+
geom_bar()
ggplot(train[which(train$Title==" Mlle"),],aes(x=Age))+
geom_bar()
q()
